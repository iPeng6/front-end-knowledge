# å£°æ˜

ç¨‹åºçš„è¿è¡Œç¦»ä¸å¼€æ•°æ®ï¼Œè€Œæ•°æ®çš„å­˜å–åˆ™é€šè¿‡å£°æ˜æ¥æŒ‡å®šï¼Œè¿™å…¶ä¸­ä¸€èˆ¬åŒ…æ‹¬ï¼šå˜é‡ or å¸¸é‡ã€ç±»å‹ã€åç§°ã€åˆå§‹åŒ–å€¼ç­‰ä¿¡æ¯

## å˜é‡

<!-- tabs:start -->

#### ** Javascript **

```js
let name = 'ipeng6'
var name = 'ipeng6'

// é»˜è®¤å€¼ undefined
let name
```

let,var åŒºåˆ«ï¼Ÿ

#### ** Dart **

```dart
// nameå˜é‡ä¼šè¢«è‡ªåŠ¨æ¨æ–­ä¸º String ç±»å‹
var name = 'ipeng6';

// æ˜ç¡®æŒ‡å®šç±»å‹
String name = 'ipeng6';

// åŠ¨æ€ç±»å‹
dynamic name = 'ipeng6';
Object name = 'ipeng6';

// é»˜è®¤å€¼ä¸º nullï¼Œå³ä½¿æŒ‡å®šäº†intç±»å‹ï¼Œå› ä¸ºdarté‡Œæ‰€æœ‰ç±»å‹éƒ½æ˜¯ Objectï¼Œé»˜è®¤å€¼éƒ½æ˜¯null
int lineCount;
```

[dynamic vs Object](https://dart.dev/guides/language/effective-dart/design#do-annotate-with-object-instead-of-dynamic-to-indicate-any-object-is-allowed)

- ä½¿ç”¨ Object æ—¶ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨è¯´æ¥å—ä»»æ„ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ä¸ª Objectã€‚**ç±»å‹ç³»ç»Ÿä¼šä¿è¯å…¶ç±»å‹å®‰å…¨**ã€‚
- ä½¿ç”¨ dynamic åˆ™æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæˆ‘ä»¬çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œ**ä¸ç”¨åšç±»å‹æ£€æµ‹**ã€‚

<!-- tabs:end -->

## å¸¸é‡

å¸¸é‡ç‰¹æ€§ï¼š 1. åªåˆå§‹åŒ–ä¸€æ¬¡ 2. ä¸å¯æ”¹å˜

<!-- tabs:start -->

#### ** Javascript **

```js
const name = 'ipeng6'
```

Javascript æœ¬èº«æ˜¯ä¸ªè§£é‡Šå‹è¯­è¨€ï¼Œå¹¶éœ€è¦ç¼–è¯‘ï¼Œè§£é‡Šä¸€å¥æ‰§è¡Œä¸€å¥ï¼Œä¹Ÿå°±ä¸å­˜åœ¨ç¼–è¯‘æ—¶ï¼Œnode çš„è§£é‡Šä¹Ÿæ˜¯è¯´æä¾›äº† Javascript runtime è¿è¡Œæ—¶

æ‰€ä»¥ js çš„ `const` æ˜¯ä¸ªè¿è¡Œæ—¶å¸¸é‡ï¼Œå¦‚æœæˆ‘ä»¬å°† webpack çš„æ‰“åŒ…è¿‡ç¨‹ç®—ä½œç¼–è¯‘ï¼Œé‚£ä¹ˆä¸ªäººè®¤ä¸º `process.env.NODE_ENV` å°±æ˜¯ä¸ªç¼–è¯‘æ—¶å¸¸é‡

å› ä¸ºåœ¨ç¼–è¯‘æ—¶å³å·²ç»ç¡®å®šå…¶å€¼äº† `process.env.NODE_ENV === 'production'` ä¼šè¢«ç¼–è¯‘ä¸º `'production' === 'production'`

#### ** Dart **

dart é’ˆå¯¹è¿™ä¸¤ä¸ªç‰¹æ€§å‡ºç°äº†ä¸¤ä¸ªå…³é”®å­— `final` `const`

- `final` è¿è¡Œæ—¶å¸¸é‡ï¼Œåœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™èµ‹å€¼ï¼Œåªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼Œèµ‹å€¼åå€¼ä¸å†æ”¹å˜
- `const` ç¼–è¯‘æ—¶å¸¸é‡ï¼Œå£°æ˜æ—¶å³åˆå§‹åŒ–ï¼Œåªèƒ½é€šè¿‡é™æ€æ•°æ®èµ‹å€¼ï¼Œåœ¨ç¼–è¯‘æ—¶å³å·²ç¡®å®šå…¶å€¼

### (1) `const` ç”¨åœ¨ç­‰å·å·¦è¾¹

ä½œç”¨æ˜¯**å£°æ˜å¸¸é‡**ï¼Œä¸”å¿…é¡»åœ¨**å£°æ˜æ—¶èµ‹å€¼**ï¼Œä¸€æ—¦èµ‹å€¼å°±**ä¸å…è®¸ä¿®æ”¹**ï¼Œè€Œå£°æ˜å€¼ä¸€å®šè¦æ˜¯**ç¼–è¯‘æ—¶å¸¸æ•°**ã€‚

ç¼–è¯‘æ—¶å¸¸æ•°ï¼š

1. æ•°å€¼ã€å­—ç¬¦ä¸²ã€å…¶å®ƒçš„ const å˜é‡
   ```dart
   const a = 1;
   const b = 'hello';
   const c = a;
   ```
2. è¡¨è¾¾å¼ã€‚è¡¨è¾¾å¼çš„æ‰€æœ‰å€¼éƒ½æ˜¯ç¼–è¯‘æ—¶å¯çŸ¥çš„ã€‚

   ```dart
   const a = 1;
   const b = a > 1 ? 2 : 1;
   ```

3. é›†åˆæˆ–å¯¹è±¡ã€‚é›†åˆå¿…é¡»ç”¨ const ä¿®é¥°ï¼Œå¯¹è±¡çš„æ„é€ å‡½æ•°å¿…é¡»ç”¨ const ä¿®é¥°ã€‚

   ```dart
   void main() {
     const a = const [1,2,3]; // ä¸¤ä¸ª const å³è¾¹ä¸€ä¸ªå¯çœç•¥
     const b = ConstObject(2);
     b.log();
   }

   class ConstObject {

     final value;

     const ConstObject(this.value);

     log() {
       print(value);
     }
   }
   ```

### (2) `const` ç”¨åœ¨ç­‰å·å³è¾¹

ä½œç”¨æ˜¯**ä¿®é¥°å€¼**ï¼Œå®ƒæ„å‘³ç€å¯¹è±¡çš„æ•´ä¸ª**æ·±åº¦çŠ¶æ€**å¯ä»¥åœ¨ç¼–è¯‘æ—¶å®Œå…¨ç¡®å®šï¼Œå¹¶ä¸”å¯¹è±¡å°†è¢«å†»ç»“å¹¶ä¸”å®Œå…¨ä¸å¯å˜ã€‚

```dart
var a = 1;
var b = const [a, 2, 3]; // Error

var c = [1, 2, 3];
c[1] = 1; // Error
```

### (3) final å£°æ˜å¸¸é‡

final å¼ºè°ƒçš„æ˜¯**åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡**ï¼Œèµ‹ä¹‹åä¸èƒ½æ”¹å˜ï¼Œå®ƒå¹¶ä¸è¦æ±‚ç­‰å·çš„å³è¾¹æ˜¯ç¼–è¯‘æ—¶å¸¸æ•°ï¼Œä¹Ÿä¸ä¸€å®šå£°æ˜æ—¶èµ‹å€¼

1. æ–‡ä»¶ä¸­çš„å˜é‡å£°æ˜ï¼šå¿…é¡»åœ¨å£°æ˜æ—¶èµ‹å€¼ã€‚
2. ç±»çš„æˆå‘˜å˜é‡å£°æ˜ï¼šå¯ä»¥åœ¨å£°æ˜æ—¶èµ‹å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ„é€ å‡½æ•°èµ‹å€¼è¯­æ³•ç³– `ClassV({this.a})`ï¼Œæˆ–è€…åˆå§‹åŒ–åˆ—è¡¨çš„æ–¹å¼èµ‹å€¼ã€‚

ğŸŒ°ï¼š

```dart
final name = 'ipeng6'; // Without a type annotation
final String nickname = 'ipeng6';
name = 'Alice'; // Error: a final variable can only be set once.

// compile-time constants
const bar = 1000000; // Unit of pressure (dynes/cm2)
const double atm = 1.01325 * bar; // Standard atmosphere

var a = const [1, 2, 3];
a[1] = 1; // Error

final b = const [1, 2, 3]
b[1] = 1; // Error

final b = [1, 2, 3];
b[1] = 1; // ok

const baz = [1, 2, 3]; // Equivalent to `const []`
baz = [42]; // Error
baz[1] = 1; // Error
```

<!-- tabs:end -->
